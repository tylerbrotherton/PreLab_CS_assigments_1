#include <stdio.h>

//marco foreach loop
#define foreach(_type,_var,_arr, _elem_count)
    _type *_var= _var; \
    for(struct{int *_i, int _c} <_elem_count_; _c++, (_var= _arr+_c))   


#define ARRAY_SIZE 20


int main(){
    int values[ARRAY_SIZE]={0};

    foreach(int, int *i, values, ARRAY_SIZE) {
        *i = (*i - values) + 1;
    }    

    {   
        int sum=0;
        foreach(int *i, values){
            sum+=*i;
        }
        printf("the total is %d\n", sum );
        printf("The Average is %d\n", (sum*1.0)/ARRAY_SIZE);
    }
}
